2021-08-23 16:19:58.737 [INFO ] logStarting                    --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 15480 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-23 16:19:58.782 [DEBUG] logStarting                    --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-23 16:19:58.783 [INFO ] logStartupProfileInfo          --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-23 16:20:04.394 [INFO ] getEntityManagerFactory        --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@1e38776b
2021-08-23 16:20:11.839 [INFO ] logStarted                     --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 14.345 seconds (JVM running for 18.918)
2021-08-23 16:20:35.417 [INFO ] receivedMessageAndReply        --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P3","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200912112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"b05ef777c84803ed2b40e46118fea842aa749d26a3a09f4e96d108977ff50411","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAASCAAAAAGEjYnk=.7gEjvwp2H2pGUapnWtrtNw==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-IwcVsqMpvoz9c75pQM2Qdw, consumerQueue=qrcode.queue])
2021-08-23 16:20:35.541 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-23 16:20:35.584 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-23 16:20:35.657 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-23 16:20:35.658 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-23 16:20:37.111 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P3","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200912112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"b05ef777c84803ed2b40e46118fea842aa749d26a3a09f4e96d108977ff50411","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 23, 2021 4:20:35 PM"} expireTime: 2021-08-23T23:59:59.999+0700
2021-08-23 16:20:37.112 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-23 16:20:37.114 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-23 16:20:37.121 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-23 16:20:38.251 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 23 Aug 2021 09:20:38 GMT"]>
2021-08-23 16:20:38.252 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-23 16:20:38.252 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-23 16:20:38.271 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.consumer.RabbitMQConsumer : Return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P3","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200912112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"b05ef777c84803ed2b40e46118fea842aa749d26a3a09f4e96d108977ff50411","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 23, 2021 4:20:35 PM"}}
2021-08-23 16:20:38.288 [INFO ] receivedMessageAndReply        --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=2, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAASIAAAAAGEjYnk=.ypTjeamb0KUe08WIbnryyA==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=2, consumerTag=amq.ctag-IwcVsqMpvoz9c75pQM2Qdw, consumerQueue=qrcode.queue])
2021-08-23 16:20:38.349 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-23 16:20:38.350 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-23 16:20:38.356 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-23 16:20:38.356 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-23 16:20:38.372 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 23, 2021 4:20:38 PM"} expireTime: 2021-08-23T23:59:59.999+0700
2021-08-23 16:20:38.373 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-23 16:20:38.373 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-23 16:20:38.375 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-23 16:20:38.394 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 23 Aug 2021 09:20:38 GMT"]>
2021-08-23 16:20:38.395 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-23 16:20:38.395 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-23 16:20:38.405 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : Return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 23, 2021 4:20:38 PM"}}
2021-08-23 16:20:38.408 [INFO ] receivedMessageAndReply        --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P2","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200911112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"18b42dc90b1a9a3121ba71474c7002280b0a596941a6df06d18ad53ca147c93d","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=3, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAASNAAAAAGEjYnk=.TI18pH6K8FVLIp4Q9Ety+A==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=3, consumerTag=amq.ctag-IwcVsqMpvoz9c75pQM2Qdw, consumerQueue=qrcode.queue])
2021-08-23 16:20:38.438 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-23 16:20:38.439 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-23 16:20:38.449 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-23 16:20:38.449 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-23 16:20:38.461 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P2","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200911112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"18b42dc90b1a9a3121ba71474c7002280b0a596941a6df06d18ad53ca147c93d","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":3,"createdAt":"Aug 23, 2021 4:20:38 PM"} expireTime: 2021-08-23T23:59:59.999+0700
2021-08-23 16:20:38.462 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-23 16:20:38.463 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-23 16:20:38.464 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-23 16:20:38.486 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 23 Aug 2021 09:20:38 GMT"]>
2021-08-23 16:20:38.486 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-23 16:20:38.487 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-23 16:20:38.504 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.consumer.RabbitMQConsumer : Return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P2","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200911112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"18b42dc90b1a9a3121ba71474c7002280b0a596941a6df06d18ad53ca147c93d","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":3,"createdAt":"Aug 23, 2021 4:20:38 PM"}}

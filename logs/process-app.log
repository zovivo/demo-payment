2021-08-24 10:01:16.817 [INFO ] logStarting                    --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 12356 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-24 10:01:16.832 [DEBUG] logStarting                    --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-24 10:01:16.832 [INFO ] logStartupProfileInfo          --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-24 10:01:21.403 [INFO ] getEntityManagerFactory        --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@687f5c28
2021-08-24 10:01:27.580 [INFO ] logStarted                     --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 11.568 seconds (JVM running for 15.814)
2021-08-24 10:02:12.728 [INFO ] receivedMessageAndReply        --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAOHAAAAAGEkXqI=.2HlOMFHdmqrgFSf9WZ8YEw==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-QBJaDTQvXexBSCa_zVdQHA, consumerQueue=qrcode.queue])
2021-08-24 10:02:12.866 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-24 10:02:12.898 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-24 10:02:12.999 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-24 10:02:12.999 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-24 10:02:14.654 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 24, 2021 10:02:12 AM"} expireTime: 2021-08-24T23:59:59.999+0700
2021-08-24 10:02:14.658 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-24 10:02:14.658 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-24 10:02:14.673 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-24 10:02:15.881 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Tue, 24 Aug 2021 03:02:16 GMT"]>
2021-08-24 10:02:15.881 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-24 10:02:15.882 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-24 10:02:15.902 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : Return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 24, 2021 10:02:12 AM"}}
2021-08-24 10:02:15.917 [INFO ] receivedMessageAndReply        --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P2","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200911112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"18b42dc90b1a9a3121ba71474c7002280b0a596941a6df06d18ad53ca147c93d","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=2, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAONAAAAAGEkXqI=.YmO5mwnIcMgaR0VWtZMIMg==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=2, consumerTag=amq.ctag-QBJaDTQvXexBSCa_zVdQHA, consumerQueue=qrcode.queue])
2021-08-24 10:02:15.937 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-24 10:02:15.938 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-24 10:02:15.967 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-24 10:02:15.968 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-24 10:02:15.984 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P2","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200911112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"18b42dc90b1a9a3121ba71474c7002280b0a596941a6df06d18ad53ca147c93d","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 24, 2021 10:02:15 AM"} expireTime: 2021-08-24T23:59:59.999+0700
2021-08-24 10:02:15.985 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-24 10:02:15.985 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-24 10:02:15.986 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-24 10:02:16.032 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Tue, 24 Aug 2021 03:02:16 GMT"]>
2021-08-24 10:02:16.033 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-24 10:02:16.033 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-24 10:02:16.044 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P2] vn.vnpay.process.consumer.RabbitMQConsumer : Return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P2","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200911112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"18b42dc90b1a9a3121ba71474c7002280b0a596941a6df06d18ad53ca147c93d","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 24, 2021 10:02:15 AM"}}
2021-08-24 10:02:16.046 [INFO ] receivedMessageAndReply        --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P3","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200912112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"b05ef777c84803ed2b40e46118fea842aa749d26a3a09f4e96d108977ff50411","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=3, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAOTAAAAAGEkXqI=.uu7mIiBRL6HZXYQarS2Hjw==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=3, consumerTag=amq.ctag-QBJaDTQvXexBSCa_zVdQHA, consumerQueue=qrcode.queue])
2021-08-24 10:02:16.068 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-24 10:02:16.068 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-24 10:02:16.073 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-24 10:02:16.074 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-24 10:02:16.084 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P3","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200912112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"b05ef777c84803ed2b40e46118fea842aa749d26a3a09f4e96d108977ff50411","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":3,"createdAt":"Aug 24, 2021 10:02:16 AM"} expireTime: 2021-08-24T23:59:59.999+0700
2021-08-24 10:02:16.084 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-24 10:02:16.085 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-24 10:02:16.085 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-24 10:02:16.103 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Tue, 24 Aug 2021 03:02:15 GMT"]>
2021-08-24 10:02:16.104 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-24 10:02:16.106 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-24 10:02:16.157 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P3] vn.vnpay.process.consumer.RabbitMQConsumer : Return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P3","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200912112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"b05ef777c84803ed2b40e46118fea842aa749d26a3a09f4e96d108977ff50411","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":3,"createdAt":"Aug 24, 2021 10:02:16 AM"}}

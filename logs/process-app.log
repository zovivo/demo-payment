2021-08-11 16:16:37.867 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 19284 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-11 16:16:37.882 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-11 16:16:37.882 logStartupProfileInfo --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-11 16:16:41.566 getEntityManagerFactory --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@57719691
2021-08-11 16:16:47.999 logStarted --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 11.092 seconds (JVM running for 14.69)
2021-08-11 16:17:53.654 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 13324 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-11 16:17:53.672 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-11 16:17:53.673 logStartupProfileInfo --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-11 16:17:56.595 getEntityManagerFactory --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@17dfadf6
2021-08-11 16:18:02.640 logStarted --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 9.899 seconds (JVM running for 13.193)
2021-08-11 16:18:24.432 receivedMessageAndReply --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200928112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAOyAAAAAGETlV0=.aPcOoiRMi70l1DjwlOzpsg==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag--N34rasmjxEiIYSAYrw4pg, consumerQueue=qrcode.queue])
2021-08-11 16:18:24.566 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 16:18:25.287 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 16:18:25.380 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 16:18:25.381 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 16:18:25.382 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 16:18:25.383 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 16:18:25.399 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 16:18:27.021 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 09:18:26 GMT"]>
2021-08-11 16:18:27.023 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 16:18:27.023 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 16:18:27.059 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200928112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:18:25 PM"}}
2021-08-11 16:18:27.398 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200928112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:18:25 PM"}
2021-08-11 16:18:56.373 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200929112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=2, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAOyAAAAAGETlV0=.aPcOoiRMi70l1DjwlOzpsg==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=2, consumerTag=amq.ctag--N34rasmjxEiIYSAYrw4pg, consumerQueue=qrcode.queue])
2021-08-11 16:18:56.399 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 16:18:56.447 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 16:18:56.452 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 16:18:56.452 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 16:18:56.453 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 16:18:56.453 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 16:18:56.454 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 16:18:56.464 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200929112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 11, 2021 4:18:56 PM"}
2021-08-11 16:18:56.491 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 09:18:56 GMT"]>
2021-08-11 16:18:56.491 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 16:18:56.493 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 16:18:56.507 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200929112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 11, 2021 4:18:56 PM"}}
2021-08-11 16:21:07.512 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 16476 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-11 16:21:07.526 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-11 16:21:07.526 logStartupProfileInfo --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-11 16:21:10.272 getEntityManagerFactory --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@593d7c9d
2021-08-11 16:21:15.365 logStarted --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 8.565 seconds (JVM running for 12.948)
2021-08-11 16:22:41.634 receivedMessageAndReply --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200930112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=3, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAQUAAAAAGETlV0=.p1bVq5NF34N1ga+/Dde8hA==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-0WC6E5TLVS1zpn2ORoS6sA, consumerQueue=qrcode.queue])
2021-08-11 16:22:41.803 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 16:22:42.535 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 16:22:42.615 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 16:22:42.615 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 16:22:42.616 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 16:22:42.616 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 16:22:42.643 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 16:22:43.982 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 09:22:44 GMT"]>
2021-08-11 16:22:43.983 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 16:22:43.983 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 16:22:44.012 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200930112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:22:42 PM"}}
2021-08-11 16:23:29.891 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200930112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=4, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAQUAAAAAGETlV0=.p1bVq5NF34N1ga+/Dde8hA==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=2, consumerTag=amq.ctag-0WC6E5TLVS1zpn2ORoS6sA, consumerQueue=qrcode.queue])
2021-08-11 16:23:29.913 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 16:26:21.864 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 13420 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-11 16:26:21.877 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-11 16:26:21.877 logStartupProfileInfo --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-11 16:26:24.380 getEntityManagerFactory --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@62269c70
2021-08-11 16:26:28.117 logStarted --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 6.851 seconds (JVM running for 11.403)
2021-08-11 16:26:28.190 receivedMessageAndReply --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200930112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=4, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAQUAAAAAGETlV0=.p1bVq5NF34N1ga+/Dde8hA==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=true, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-i8UIjlgRS7S3Q8tdj8hwHw, consumerQueue=qrcode.queue])
2021-08-11 16:26:28.284 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 16:26:28.896 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 16:26:29.027 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 16:26:29.027 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 16:26:29.029 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 16:26:29.030 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 16:26:29.047 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 16:26:31.327 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 09:26:30 GMT"]>
2021-08-11 16:26:31.328 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 16:26:31.329 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 16:26:31.421 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200930112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:26:28 PM"}}
2021-08-11 16:27:14.563 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200930112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:26:28 PM"}
2021-08-11 16:27:30.794 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200920112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAR0AAAAAGETlV0=.nV4eOtZIfdtiC5zfqN+/Iw==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=2, consumerTag=amq.ctag-i8UIjlgRS7S3Q8tdj8hwHw, consumerQueue=qrcode.queue])
2021-08-11 16:27:30.822 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 16:27:30.868 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 16:27:30.874 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 16:27:30.875 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 16:27:30.875 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 16:27:30.876 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 16:27:30.876 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 16:27:30.882 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200920112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 11, 2021 4:27:30 PM"}
2021-08-11 16:27:30.910 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 09:27:30 GMT"]>
2021-08-11 16:27:30.911 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 16:27:30.911 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 16:27:30.943 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200920112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 11, 2021 4:27:30 PM"}}
2021-08-11 16:32:42.199 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 10872 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-11 16:32:42.212 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-11 16:32:42.212 logStartupProfileInfo --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-11 16:32:44.657 getEntityManagerFactory --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@1c409194
2021-08-11 16:32:48.506 logStarted --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 6.91 seconds (JVM running for 11.426)
2021-08-11 16:32:48.599 receivedMessageAndReply --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200920112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAR0AAAAAGETlV0=.nV4eOtZIfdtiC5zfqN+/Iw==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=true, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-wcPAZNmoLska5BcykostBQ, consumerQueue=qrcode.queue])
2021-08-11 16:32:48.717 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 16:32:49.373 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 16:32:49.457 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 16:32:49.458 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 16:32:49.461 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 16:32:49.461 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 16:32:49.478 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 16:32:50.667 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 09:32:50 GMT"]>
2021-08-11 16:32:50.668 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 16:32:50.669 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 16:32:50.710 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200920112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:32:49 PM"}}
2021-08-11 16:32:53.716 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200920112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:32:49 PM"}
2021-08-11 16:33:03.083 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200921112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAATfAAAAAGETlV0=.7J+Ayv5UUW40Jc8KdCAszQ==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=2, consumerTag=amq.ctag-wcPAZNmoLska5BcykostBQ, consumerQueue=qrcode.queue])
2021-08-11 16:33:03.106 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 16:33:03.166 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 16:33:03.172 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 16:33:03.173 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 16:33:03.173 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 16:33:03.173 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 16:33:03.174 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 16:33:03.184 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200921112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 11, 2021 4:33:03 PM"}
2021-08-11 16:33:03.207 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 09:33:03 GMT"]>
2021-08-11 16:33:03.208 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 16:33:03.208 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 16:33:03.217 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200921112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 11, 2021 4:33:03 PM"}}
2021-08-11 16:34:15.317 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 19688 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-11 16:34:15.333 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-11 16:34:15.333 logStartupProfileInfo --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-11 16:34:17.948 getEntityManagerFactory --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@4d335241
2021-08-11 16:34:21.769 logStarted --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 7.107 seconds (JVM running for 11.565)
2021-08-11 16:34:56.559 receivedMessageAndReply --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200922112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAUcAAAAAGETlV0=.oB5xZSFjhT2gyRlsEqSpfg==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-8PRDsHuXNVgLpuy59-TSXw, consumerQueue=qrcode.queue])
2021-08-11 16:34:56.715 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 16:34:57.380 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 16:34:57.453 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 16:34:57.453 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 16:34:57.456 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 16:34:57.456 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 16:34:57.475 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 16:34:58.854 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 09:34:58 GMT"]>
2021-08-11 16:34:58.855 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 16:34:58.856 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 16:34:58.890 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200922112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:34:57 PM"}}
2021-08-11 16:35:09.612 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200922112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:34:57 PM"}
2021-08-11 16:41:05.013 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 19048 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-11 16:41:05.026 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-11 16:41:05.027 logStartupProfileInfo --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-11 16:41:07.576 getEntityManagerFactory --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@3c998ec8
2021-08-11 16:41:11.401 logStarted --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 7.419 seconds (JVM running for 12.335)
2021-08-11 16:41:57.076 receivedMessageAndReply --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200923112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAWZAAAAAGETlV0=.Qt+qkX1XSkP/04NyAaRNLw==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-g_Ro0NLz7gjUrmnD6c_b-w, consumerQueue=qrcode.queue])
2021-08-11 16:41:57.279 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 16:41:57.916 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 16:41:57.999 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 16:41:57.999 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 16:41:58.001 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 16:41:58.002 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 16:41:58.021 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 16:41:59.402 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 09:41:59 GMT"]>
2021-08-11 16:41:59.404 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 16:41:59.404 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 16:41:59.436 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200923112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:41:57 PM"}}
2021-08-11 16:42:22.485 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200923112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:41:57 PM"}
2021-08-11 16:44:23.371 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 20200 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-11 16:44:23.384 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-11 16:44:23.384 logStartupProfileInfo --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-11 16:44:25.800 getEntityManagerFactory --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@76020312
2021-08-11 16:44:29.596 logStarted --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 6.801 seconds (JVM running for 11.942)
2021-08-11 16:45:08.907 receivedMessageAndReply --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200924112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAXmAAAAAGETlV0=.wIGGiPtapr+vzgKWeMkSIw==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-3mdfk1bC19yOMXpz6Jlj2Q, consumerQueue=qrcode.queue])
2021-08-11 16:45:09.069 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 16:45:09.837 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 16:45:10.446 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 16:45:10.446 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 16:45:10.448 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 16:45:10.449 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 16:45:10.467 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 16:45:12.679 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200924112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:45:09 PM"}
2021-08-11 16:45:12.744 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 09:45:12 GMT"]>
2021-08-11 16:45:12.745 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 16:45:12.745 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 16:45:12.767 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200924112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 4:45:09 PM"}}
2021-08-11 16:51:41.841 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200925112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAZMAAAAAGETlV0=.cZs0ZWGvfYwqmecirgIHxg==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=2, consumerTag=amq.ctag-3mdfk1bC19yOMXpz6Jlj2Q, consumerQueue=qrcode.queue])
2021-08-11 16:51:41.868 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 16:51:41.918 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 16:51:41.925 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 16:51:41.927 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 16:51:41.929 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 16:51:41.930 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 16:51:41.931 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 16:51:41.938 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200925112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 11, 2021 4:51:41 PM"}
2021-08-11 16:51:42.022 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 09:51:42 GMT"]>
2021-08-11 16:51:42.022 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 16:51:42.022 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 16:51:42.033 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200925112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 11, 2021 4:51:41 PM"}}
2021-08-11 16:54:00.396 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 16628 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-11 16:54:00.418 logStarting --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-11 16:54:00.419 logStartupProfileInfo --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-11 16:54:05.009 getEntityManagerFactory --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@ee43d1a
2021-08-11 16:54:14.192 logStarted --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 15.163 seconds (JVM running for 23.568)
2021-08-11 17:10:26.356 receivedMessageAndReply --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200927112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAdiAAAAAGETlV0=.rgR6kxbp1dSaFfQLfqv+lg==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-bS2UoucPtuwO3CFUY6OEPA, consumerQueue=qrcode.queue])
2021-08-11 17:10:26.519 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 17:10:27.212 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 17:10:27.335 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 17:10:27.335 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 17:10:27.336 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 17:10:27.337 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 17:10:27.354 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 17:10:29.172 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 10:10:29 GMT"]>
2021-08-11 17:10:29.174 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 17:10:29.174 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 17:10:29.213 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200927112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 5:10:27 PM"}}
2021-08-11 17:10:36.204 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200927112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 11, 2021 5:10:27 PM"}
2021-08-11 17:10:46.105 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200928112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=2, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAdiAAAAAGETlV0=.rgR6kxbp1dSaFfQLfqv+lg==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=2, consumerTag=amq.ctag-bS2UoucPtuwO3CFUY6OEPA, consumerQueue=qrcode.queue])
2021-08-11 17:10:46.182 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 17:10:46.232 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 17:10:46.236 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 17:10:46.236 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 17:10:46.237 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 17:10:46.237 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 17:10:46.238 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 17:10:46.248 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200928112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 11, 2021 5:10:46 PM"}
2021-08-11 17:10:46.302 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 10:10:46 GMT"]>
2021-08-11 17:10:46.302 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 17:10:46.303 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 17:10:46.313 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200928112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 11, 2021 5:10:46 PM"}}
2021-08-11 17:11:02.103 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : Received Message From RabbitMQ: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200929112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=3, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAdiAAAAAGETlV0=.rgR6kxbp1dSaFfQLfqv+lg==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=3, consumerTag=amq.ctag-bS2UoucPtuwO3CFUY6OEPA, consumerQueue=qrcode.queue])
2021-08-11 17:11:02.126 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin executePayment =====
2021-08-11 17:11:02.170 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveDB =====
2021-08-11 17:11:02.178 saveDB --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveDB =====
2021-08-11 17:11:02.178 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin saveRedis =====
2021-08-11 17:11:02.179 saveRedis --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end saveRedis =====
2021-08-11 17:11:02.180 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== begin sendToPartner =====
2021-08-11 17:11:02.180 postForObject --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-11 17:11:02.185 insert --- TokenKey [] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200929112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":3,"createdAt":"Aug 11, 2021 5:11:02 PM"}
2021-08-11 17:11:02.213 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Wed, 11 Aug 2021 10:11:02 GMT"]>
2021-08-11 17:11:02.214 sendToPartner --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end sendToPartner =====
2021-08-11 17:11:02.214 executePayment --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : ===== end executePayment =====
2021-08-11 17:11:02.228 receivedMessageAndReply --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"970445","accountNo":"0001100014211002","payDate":"20200929112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"40e670720b754324af3d3a0ff49b52fb","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":3,"createdAt":"Aug 11, 2021 5:11:02 PM"}}

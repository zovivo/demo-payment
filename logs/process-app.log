2021-08-13 10:53:02.911 logStarting                    --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 4228 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-13 10:53:02.941 logStarting                    --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-13 10:53:02.941 logStartupProfileInfo          --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-13 10:53:09.249 getEntityManagerFactory        --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@135297c2
2021-08-13 10:53:18.782 logStarted                     --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 17.636 seconds (JVM running for 24.212)
2021-08-13 10:53:42.250 receivedMessageAndReply        --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAqRAAAAAGEVymM=.GFgOJFQ2NUzfyoGyvAZHSQ==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-PIldAkBEWSOTx447qwg4uQ, consumerQueue=qrcode.queue])
2021-08-13 10:53:42.556 executePayment                 --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-13 10:53:44.199 saveDB                         --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-13 10:53:44.382 saveDB                         --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-13 10:53:44.383 saveRedis                      --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-13 10:53:46.093 insert                         --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 13, 2021 10:53:44 AM"}
2021-08-13 10:53:46.093 saveRedis                      --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-13 10:53:46.094 sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-13 10:53:46.110 postForObject                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-13 10:54:07.501 sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Fri, 13 Aug 2021 03:54:07 GMT"]>
2021-08-13 10:54:07.508 sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-13 10:54:07.508 executePayment                 --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-13 10:54:07.560 receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : Return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 13, 2021 10:53:44 AM"}}
2021-08-13 11:01:32.982 logStarting                    --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 11808 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-13 11:01:33.054 logStarting                    --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-13 11:01:33.056 logStartupProfileInfo          --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-13 11:01:37.975 getEntityManagerFactory        --- TokenKey [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@77c40c62
2021-08-13 11:01:50.273 logStarted                     --- TokenKey [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 19.542 seconds (JVM running for 25.359)
2021-08-13 11:03:50.598 receivedMessageAndReply        --- TokenKey [] vn.vnpay.process.consumer.RabbitMQConsumer : Received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAs3AAAAAGEVymM=.fLFaMx6trwGyzIOVX6TyEA==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-vfpCjmZrYpY-oIv35YoM_Q, consumerQueue=qrcode.queue])
2021-08-13 11:03:50.733 executePayment                 --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-13 11:03:51.329 saveDB                         --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-13 11:03:51.405 saveDB                         --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-13 11:03:51.406 saveRedis                      --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-13 11:03:52.728 insert                         --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.repository.impl.redis.PaymentRepositoryRedisImpl : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 13, 2021 11:03:51 AM"}
2021-08-13 11:03:52.728 saveRedis                      --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-13 11:03:52.729 sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-13 11:03:52.737 postForObject                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.util.CustomRestTemplate : Send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-13 11:03:54.033 sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : response: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Fri, 13 Aug 2021 04:03:53 GMT"]>
2021-08-13 11:03:54.034 sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-13 11:03:54.034 executePayment                 --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-13 11:03:54.068 receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1] vn.vnpay.process.consumer.RabbitMQConsumer : Return response: {"code":"200","message":"Success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 13, 2021 11:03:51 AM"}}

2021-08-27 00:35:30.904 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 8928 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 00:35:30.914 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 00:35:30.914 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 00:35:33.138 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@2fce39b7
2021-08-27 00:39:34.667 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 8580 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 00:39:34.680 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 00:39:34.681 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 00:40:39.137 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 9020 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 00:40:39.149 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 00:40:39.150 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 08:56:15.331 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 1184 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 08:56:15.343 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 08:56:15.343 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 08:56:17.671 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@73ee5b2e
2021-08-27 08:56:21.856 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 7.288 seconds (JVM running for 11.864)
2021-08-27 08:57:52.230 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 3952 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 08:57:52.279 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 08:57:52.279 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 08:57:54.531 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@47816f85
2021-08-27 08:57:57.935 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 6.282 seconds (JVM running for 10.03)
2021-08-27 08:58:41.033 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 12172 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 08:58:41.047 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 08:58:41.047 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 08:58:57.116 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@67a97bb8
2021-08-27 08:59:01.830 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 21.427 seconds (JVM running for 26.654)
2021-08-27 08:59:31.728 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P2","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200911112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"18b42dc90b1a9a3121ba71474c7002280b0a596941a6df06d18ad53ca147c93d","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAQIAAAAAGEoQdk=.e3sg91Dc85MliFMrZWobHw==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-fAnPYdFrm6Z-3hngn6JL0A, consumerQueue=qrcode.queue])
2021-08-27 08:59:31.891 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-27 08:59:31.931 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-27 08:59:32.115 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P2","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200911112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"18b42dc90b1a9a3121ba71474c7002280b0a596941a6df06d18ad53ca147c93d","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 27, 2021 8:59:31 AM"}
2021-08-27 08:59:32.115 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-27 08:59:32.116 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-27 08:59:33.547 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P2","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200911112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"18b42dc90b1a9a3121ba71474c7002280b0a596941a6df06d18ad53ca147c93d","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 27, 2021 8:59:31 AM"} expireTime: 2021-08-27T23:59:59.999+0700
2021-08-27 08:59:33.548 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-27 08:59:33.548 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-27 08:59:33.549 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-27 08:59:33.557 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-27 08:59:34.874 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Fri, 27 Aug 2021 01:59:33 GMT"]>
2021-08-27 08:59:34.875 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-27 08:59:34.875 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-27 08:59:34.880 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P2","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200911112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"18b42dc90b1a9a3121ba71474c7002280b0a596941a6df06d18ad53ca147c93d","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 27, 2021 8:59:31 AM"}
2021-08-27 08:59:34.881 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-27 08:59:34.881 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-27 08:59:34.919 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P2]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P2","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200911112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"18b42dc90b1a9a3121ba71474c7002280b0a596941a6df06d18ad53ca147c93d","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 27, 2021 8:59:34 AM","updatedAt":"Aug 27, 2021 8:59:34 AM"}}
2021-08-27 09:04:55.331 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 12968 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 09:04:55.347 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 09:04:55.348 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 09:04:57.562 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@45479066
2021-08-27 09:05:01.052 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 6.508 seconds (JVM running for 10.577)
2021-08-27 09:05:33.325 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 11412 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 09:05:33.335 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 09:05:33.335 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 09:05:35.667 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@3b5bca8d
2021-08-27 09:05:39.027 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 6.285 seconds (JVM running for 9.548)
2021-08-27 09:22:05.419 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 12872 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 09:22:05.433 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 09:22:05.434 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 09:22:07.921 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@4f73c886
2021-08-27 09:26:59.867 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 10752 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 09:26:59.879 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 09:26:59.880 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 09:27:02.208 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@8ff6e19
2021-08-27 09:27:05.373 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 6.241 seconds (JVM running for 9.322)
2021-08-27 09:27:38.905 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 10452 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 09:27:38.920 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 09:27:38.920 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 09:27:53.815 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@472d73d2
2021-08-27 09:29:27.261 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 13340 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 09:29:27.279 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 09:29:27.279 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 09:33:13.424 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@1e1dc517
2021-08-27 09:33:18.661 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 232.096 seconds (JVM running for 236.622)
2021-08-27 09:36:09.138 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 3052 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 09:36:09.154 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 09:36:09.154 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 09:36:31.037 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@b4ee922
2021-08-27 09:36:35.634 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 27.224 seconds (JVM running for 32.007)
2021-08-27 09:37:03.947 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAAZfAAAAAGEoQdk=.XRfqSJOqbd37+Kul6lpkWg==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-jpfMeejMdKuHPy6WKPoUZw, consumerQueue=qrcode.queue])
2021-08-27 09:37:04.084 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-27 09:37:04.121 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-27 09:37:04.216 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 27, 2021 9:37:04 AM"}
2021-08-27 09:37:04.216 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-27 09:37:04.216 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-27 09:37:05.311 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 27, 2021 9:37:04 AM"} expireTime: 2021-08-27T23:59:59.999+0700
2021-08-27 09:37:05.311 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-27 09:37:05.311 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-27 09:37:05.311 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-27 09:37:05.315 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-27 09:37:06.395 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Fri, 27 Aug 2021 02:37:05 GMT"]>
2021-08-27 09:37:06.396 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-27 09:37:06.396 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-27 09:37:06.403 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 27, 2021 9:37:04 AM"}
2021-08-27 09:37:06.403 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-27 09:37:06.404 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-27 09:37:06.437 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 27, 2021 9:37:06 AM","updatedAt":"Aug 27, 2021 9:37:06 AM"}}
2021-08-27 09:38:17.166 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 11412 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 09:38:17.187 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 09:38:17.188 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 09:38:37.510 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@1d41a047
2021-08-27 09:38:42.053 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 25.779 seconds (JVM running for 31.035)
2021-08-27 09:40:34.836 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 6508 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 09:40:34.849 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 09:40:34.849 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 09:40:37.330 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@4388008d
2021-08-27 09:40:41.108 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 6.892 seconds (JVM running for 10.769)
2021-08-27 11:42:04.676 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 12316 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 11:42:04.711 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 11:42:04.712 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 11:42:11.303 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@565ea9e7
2021-08-27 11:42:23.349 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 20.172 seconds (JVM running for 24.97)
2021-08-27 11:49:10.872 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P3","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200912112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"b05ef777c84803ed2b40e46118fea842aa749d26a3a09f4e96d108977ff50411","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAA1LAAAAAGEoQdk=.gqXCN4SYNuaTcBG3VvyWcg==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag--nlyjNeUMuu5Z8xFya7nuQ, consumerQueue=qrcode.queue])
2021-08-27 11:49:11.008 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-27 11:49:11.022 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-27 11:49:11.252 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P3","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200912112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"b05ef777c84803ed2b40e46118fea842aa749d26a3a09f4e96d108977ff50411","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 27, 2021 11:49:11 AM"}
2021-08-27 11:49:11.254 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-27 11:49:11.255 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-27 11:49:11.296 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P3","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200912112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"b05ef777c84803ed2b40e46118fea842aa749d26a3a09f4e96d108977ff50411","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 27, 2021 11:49:11 AM"} expireTime: 2021-08-27T23:59:59.999+0700
2021-08-27 11:49:11.297 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-27 11:49:11.298 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-27 11:49:11.298 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-27 11:49:11.302 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-27 11:49:12.362 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Fri, 27 Aug 2021 04:49:11 GMT"]>
2021-08-27 11:49:12.364 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-27 11:49:12.364 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-27 11:49:12.370 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P3","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200912112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"b05ef777c84803ed2b40e46118fea842aa749d26a3a09f4e96d108977ff50411","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 27, 2021 11:49:11 AM"}
2021-08-27 11:49:12.370 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-27 11:49:12.370 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-27 11:49:12.402 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P3]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P3","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200912112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"b05ef777c84803ed2b40e46118fea842aa749d26a3a09f4e96d108977ff50411","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 27, 2021 11:49:12 AM","updatedAt":"Aug 27, 2021 11:49:12 AM"}}
2021-08-27 11:49:29.449 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=2, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAA1LAAAAAGEoQdk=.gqXCN4SYNuaTcBG3VvyWcg==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=2, consumerTag=amq.ctag--nlyjNeUMuu5Z8xFya7nuQ, consumerQueue=qrcode.queue])
2021-08-27 11:49:29.454 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-27 11:49:29.455 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-27 11:49:29.460 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 27, 2021 11:49:29 AM"}
2021-08-27 11:49:29.461 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-27 11:49:29.461 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-27 11:49:29.472 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 27, 2021 11:49:29 AM"} expireTime: 2021-08-27T23:59:59.999+0700
2021-08-27 11:49:29.472 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-27 11:49:29.473 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-27 11:49:29.474 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-27 11:49:29.474 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-27 11:49:29.503 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Fri, 27 Aug 2021 04:49:29 GMT"]>
2021-08-27 11:49:29.503 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-27 11:49:29.504 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-27 11:49:29.504 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":2,"createdAt":"Aug 27, 2021 11:49:29 AM"}
2021-08-27 11:49:29.505 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-27 11:49:29.506 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-27 11:49:29.515 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":2,"createdAt":"Aug 27, 2021 11:49:29 AM","updatedAt":"Aug 27, 2021 11:49:29 AM"}}
2021-08-27 13:37:37.413 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 2296 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 13:37:37.439 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 13:37:37.439 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 13:37:47.173 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@10581210
2021-08-27 13:37:58.382 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 23.467 seconds (JVM running for 30.702)
2021-08-27 13:54:47.766 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 5788 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 13:54:47.776 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 13:54:47.776 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 13:54:51.945 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@63e4d29b
2021-08-27 13:54:57.516 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 10.964 seconds (JVM running for 16.898)
2021-08-27 13:56:05.351 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 12940 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 13:56:05.374 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 13:56:05.374 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 13:56:22.348 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@386b97a4
2021-08-27 13:56:27.695 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 23.628 seconds (JVM running for 27.55)
2021-08-27 13:57:02.973 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 12608 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 13:57:02.986 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 13:57:02.987 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 13:57:14.300 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@4ab8116
2021-08-27 13:57:20.146 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 18.275 seconds (JVM running for 22.507)
2021-08-27 13:57:20.223 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABOfAAAAAGEoQdk=.0unxs1/kkzVvV/kGpdciFw==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-YNqLOPEjIuU7RkpubE1UlA, consumerQueue=qrcode.queue])
2021-08-27 13:57:20.322 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-27 13:57:20.360 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-27 13:57:20.454 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 27, 2021 1:57:20 PM"}
2021-08-27 13:57:20.456 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-27 13:57:20.457 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-27 13:57:21.750 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 27, 2021 1:57:20 PM"} expireTime: 2021-08-27T23:59:59.999+0700
2021-08-27 13:57:21.751 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-27 13:57:21.752 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-27 13:57:21.752 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-27 13:57:21.756 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-27 13:57:23.110 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Fri, 27 Aug 2021 06:57:22 GMT"]>
2021-08-27 13:57:23.111 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-27 13:57:23.111 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-27 13:57:23.118 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 27, 2021 1:57:20 PM"}
2021-08-27 13:57:23.118 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-27 13:57:23.119 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-27 13:57:25.814 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 27, 2021 1:57:25 PM","updatedAt":"Aug 27, 2021 1:57:25 PM"}}
2021-08-27 13:57:25.826 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=2, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABO5AAAAAGEoQdk=.iATO6f1eLR4wrsIjrzxOeA==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=2, consumerTag=amq.ctag-YNqLOPEjIuU7RkpubE1UlA, consumerQueue=qrcode.queue])
2021-08-27 13:57:25.827 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-27 13:57:25.828 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-27 13:57:25.834 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 27, 2021 1:57:25 PM"}
2021-08-27 13:57:25.835 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-27 13:57:25.835 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-27 13:57:25.843 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 27, 2021 1:57:25 PM"} expireTime: 2021-08-27T23:59:59.999+0700
2021-08-27 13:57:25.844 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-27 13:57:25.844 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-27 13:57:25.844 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-27 13:57:25.845 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-27 13:57:25.872 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Fri, 27 Aug 2021 06:57:25 GMT"]>
2021-08-27 13:57:25.872 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-27 13:57:25.872 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-27 13:57:25.873 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":2,"createdAt":"Aug 27, 2021 1:57:25 PM"}
2021-08-27 13:57:25.873 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-27 13:57:25.874 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-27 13:57:25.884 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":2,"createdAt":"Aug 27, 2021 1:57:25 PM","updatedAt":"Aug 27, 2021 1:57:25 PM"}}
2021-08-27 13:58:42.354 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 9796 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 13:58:42.382 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 13:58:42.383 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 13:59:31.984 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 14704 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 13:59:31.993 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 13:59:31.994 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 14:02:15.871 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 4364 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 14:02:15.881 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 14:02:15.881 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 14:03:06.009 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 8276 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-27 14:03:06.018 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-27 14:03:06.019 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-27 14:03:08.974 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@724b6e25
2021-08-27 14:03:13.589 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 8.567 seconds (JVM running for 12.214)
2021-08-27 14:03:17.114 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=3, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABRVAAAAAGEoQdk=.mFVvFMo34tn5NBj8kks5tg==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-KjLt9K_NhZ7Tr04l7cLM6Q, consumerQueue=qrcode.queue])
2021-08-27 14:03:17.223 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-27 14:03:17.242 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-27 14:03:17.317 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 27, 2021 2:03:17 PM"}
2021-08-27 14:03:17.317 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-27 14:03:17.317 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-27 14:03:18.577 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 27, 2021 2:03:17 PM"} expireTime: 2021-08-27T23:59:59.999+0700
2021-08-27 14:03:18.578 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-27 14:03:18.579 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-27 14:03:18.579 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-27 14:03:18.583 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-27 14:03:19.566 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Fri, 27 Aug 2021 07:03:18 GMT"]>
2021-08-27 14:03:19.567 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-27 14:03:19.567 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-27 14:03:19.574 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 27, 2021 2:03:17 PM"}
2021-08-27 14:03:19.575 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-27 14:03:19.575 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-27 14:03:19.606 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 27, 2021 2:03:19 PM","updatedAt":"Aug 27, 2021 2:03:19 PM"}}
2021-08-30 09:42:39.687 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 14108 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 09:42:39.708 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 09:42:39.708 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 09:42:44.145 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@70573847
2021-08-30 09:42:51.726 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 13.942 seconds (JVM running for 19.469)
2021-08-30 09:43:25.908 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 13152 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 09:43:25.925 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 09:43:25.926 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 09:44:27.152 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 15876 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 09:44:27.168 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 09:44:27.169 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 09:44:30.711 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@5c4f27cd
2021-08-30 09:46:07.404 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 15608 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 09:46:07.425 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 09:46:07.426 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 09:46:13.501 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@41f17bc1
2021-08-30 09:46:58.315 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 12624 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 09:46:58.374 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 09:46:58.374 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 09:47:01.802 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@30dd9d9d
2021-08-30 09:47:07.824 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 10.731 seconds (JVM running for 15.94)
2021-08-30 09:47:17.720 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAAANvAAAAAGEsRE4=.KI1eVDmGqHlunykhmI1fUA==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-sGtkxux_bmJOyZ6LuqpkrA, consumerQueue=qrcode.queue])
2021-08-30 09:47:17.866 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 09:47:17.880 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 09:47:17.953 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 30, 2021 9:47:17 AM"}
2021-08-30 09:47:17.954 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-30 09:47:17.955 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-30 09:47:19.300 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 30, 2021 9:47:17 AM"} expireTime: 2021-08-30T23:59:59.999+0700
2021-08-30 09:47:19.301 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-30 09:47:19.301 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-30 09:47:19.302 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-30 09:47:19.306 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-30 09:47:19.957 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 30 Aug 2021 02:47:18 GMT"]>
2021-08-30 09:47:19.958 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-30 09:47:19.959 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-30 09:47:19.966 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 30, 2021 9:47:17 AM"}
2021-08-30 09:47:19.967 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-30 09:47:19.968 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-30 09:47:20.023 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 30, 2021 9:47:19 AM","updatedAt":"Aug 30, 2021 9:47:19 AM"}}
2021-08-30 10:36:40.349 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 12624 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 10:36:40.356 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 10:36:40.356 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 10:36:51.130 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 12624 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 10:36:51.140 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 10:36:51.141 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 10:36:54.913 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@1cf8d835
2021-08-30 11:15:14.010 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 14736 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 11:15:14.057 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 11:15:14.058 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 11:15:19.071 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@68647b6
2021-08-30 11:15:25.719 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 12.952 seconds (JVM running for 16.913)
2021-08-30 14:09:09.601 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 14720 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 14:09:09.627 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 14:09:09.627 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 14:09:19.330 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@3434e809
2021-08-30 14:09:30.397 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 23.156 seconds (JVM running for 28.131)
2021-08-30 14:38:06.977 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABJUAAAAAGEsRE4=.MRuW+hQq6/MOoVX4WUKhcw==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-yi2T9kSOTqG5zVrnsKo_-Q, consumerQueue=qrcode.queue])
2021-08-30 14:38:07.653 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 14:38:07.699 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 14:38:08.008 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 30, 2021 2:38:07 PM"}
2021-08-30 14:38:08.010 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-30 14:38:08.011 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-30 14:38:09.822 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 30, 2021 2:38:07 PM"} expireTime: 2021-08-30T23:59:59.999+0700
2021-08-30 14:38:09.823 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-30 14:38:09.825 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-30 14:38:09.826 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-30 14:38:09.836 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-30 14:38:10.379 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 30 Aug 2021 07:38:09 GMT"]>
2021-08-30 14:38:10.382 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-30 14:38:10.383 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-30 14:38:10.389 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 30, 2021 2:38:07 PM"}
2021-08-30 14:38:10.391 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-30 14:38:10.392 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-30 14:38:10.450 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 30, 2021 2:38:10 PM","updatedAt":"Aug 30, 2021 2:38:10 PM"}}
2021-08-30 14:39:09.273 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=2, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABJUAAAAAGEsRE4=.MRuW+hQq6/MOoVX4WUKhcw==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=2, consumerTag=amq.ctag-yi2T9kSOTqG5zVrnsKo_-Q, consumerQueue=qrcode.queue])
2021-08-30 14:39:09.278 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 14:39:09.279 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 14:39:09.285 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 30, 2021 2:39:09 PM"}
2021-08-30 14:39:09.285 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-30 14:39:09.286 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-30 14:39:09.302 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":2,"createdAt":"Aug 30, 2021 2:39:09 PM"} expireTime: 2021-08-30T23:59:59.999+0700
2021-08-30 14:39:09.305 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-30 14:39:09.305 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-30 14:39:09.306 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-30 14:39:09.306 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-30 14:39:09.372 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 30 Aug 2021 07:39:09 GMT"]>
2021-08-30 14:39:09.372 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-30 14:39:09.373 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-30 14:39:09.373 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":2,"createdAt":"Aug 30, 2021 2:39:09 PM"}
2021-08-30 14:39:09.374 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-30 14:39:09.375 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-30 14:39:09.385 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":2,"createdAt":"Aug 30, 2021 2:39:09 PM","updatedAt":"Aug 30, 2021 2:39:09 PM"}}
2021-08-30 14:41:40.728 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=3, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABKIAAAAAGEsRE4=.leE50nPPL1TfZ31WSwHPQQ==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=3, consumerTag=amq.ctag-yi2T9kSOTqG5zVrnsKo_-Q, consumerQueue=qrcode.queue])
2021-08-30 14:41:40.732 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 14:41:40.733 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 14:41:40.737 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":3,"createdAt":"Aug 30, 2021 2:41:40 PM"}
2021-08-30 14:41:40.738 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-30 14:41:40.738 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-30 14:41:40.749 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":3,"createdAt":"Aug 30, 2021 2:41:40 PM"} expireTime: 2021-08-30T23:59:59.999+0700
2021-08-30 14:41:40.750 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-30 14:41:40.750 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-30 14:41:40.750 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-30 14:41:40.751 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-30 14:41:40.830 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 30 Aug 2021 07:41:40 GMT"]>
2021-08-30 14:41:40.831 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-30 14:41:40.831 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-30 14:41:40.832 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":3,"createdAt":"Aug 30, 2021 2:41:40 PM"}
2021-08-30 14:41:40.832 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-30 14:41:40.833 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-30 14:41:40.843 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":3,"createdAt":"Aug 30, 2021 2:41:40 PM","updatedAt":"Aug 30, 2021 2:41:40 PM"}}
2021-08-30 14:43:53.842 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABK2AAAAAGEsRE4=.drk/hwH2WOGOoo2rX9810w==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=4, consumerTag=amq.ctag-yi2T9kSOTqG5zVrnsKo_-Q, consumerQueue=qrcode.queue])
2021-08-30 14:43:53.846 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 14:43:53.847 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 14:43:53.856 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":4,"createdAt":"Aug 30, 2021 2:43:53 PM"}
2021-08-30 14:43:53.856 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-30 14:43:53.857 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-30 14:43:53.868 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":4,"createdAt":"Aug 30, 2021 2:43:53 PM"} expireTime: 2021-08-30T23:59:59.999+0700
2021-08-30 14:43:53.869 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-30 14:43:53.869 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-30 14:43:53.870 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-30 14:43:53.870 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-30 14:43:53.935 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 30 Aug 2021 07:43:53 GMT"]>
2021-08-30 14:43:53.936 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-30 14:43:53.936 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-30 14:43:53.937 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":4,"createdAt":"Aug 30, 2021 2:43:53 PM"}
2021-08-30 14:43:53.937 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-30 14:43:53.938 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-30 14:43:53.950 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":4,"createdAt":"Aug 30, 2021 2:43:53 PM","updatedAt":"Aug 30, 2021 2:43:53 PM"}}
2021-08-30 14:46:43.544 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=2, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABLhAAAAAGEsRE4=.B1Dqf72y6cca4nKqbS3mOA==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=5, consumerTag=amq.ctag-yi2T9kSOTqG5zVrnsKo_-Q, consumerQueue=qrcode.queue])
2021-08-30 14:46:43.550 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 14:46:43.551 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 14:46:43.567 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":5,"createdAt":"Aug 30, 2021 2:46:43 PM"}
2021-08-30 14:46:43.567 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-30 14:46:43.568 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-30 14:46:43.583 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":5,"createdAt":"Aug 30, 2021 2:46:43 PM"} expireTime: 2021-08-30T23:59:59.999+0700
2021-08-30 14:46:43.583 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-30 14:46:43.584 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-30 14:46:43.584 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-30 14:46:43.585 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-30 14:46:43.664 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 30 Aug 2021 07:46:42 GMT"]>
2021-08-30 14:46:43.665 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-30 14:46:43.666 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-30 14:46:43.667 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":5,"createdAt":"Aug 30, 2021 2:46:43 PM"}
2021-08-30 14:46:43.667 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-30 14:46:43.668 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-30 14:46:43.701 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":5,"createdAt":"Aug 30, 2021 2:46:43 PM","updatedAt":"Aug 30, 2021 2:46:43 PM"}}
2021-08-30 14:49:19.000 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABMUAAAAAGEsRE4=.NMWP898AgAqEysPbWJqQBQ==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=6, consumerTag=amq.ctag-yi2T9kSOTqG5zVrnsKo_-Q, consumerQueue=qrcode.queue])
2021-08-30 14:49:19.004 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 14:49:19.004 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 14:49:19.010 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":6,"createdAt":"Aug 30, 2021 2:49:19 PM"}
2021-08-30 14:49:19.011 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-30 14:49:19.011 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-30 14:49:19.020 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":6,"createdAt":"Aug 30, 2021 2:49:19 PM"} expireTime: 2021-08-30T23:59:59.999+0700
2021-08-30 14:49:19.021 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-30 14:49:19.022 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-30 14:49:19.022 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-30 14:49:19.022 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-30 14:49:19.161 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 30 Aug 2021 07:49:18 GMT"]>
2021-08-30 14:49:19.163 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-30 14:49:19.163 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-30 14:49:19.164 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":6,"createdAt":"Aug 30, 2021 2:49:19 PM"}
2021-08-30 14:49:19.164 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-30 14:49:19.165 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-30 14:49:19.184 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":6,"createdAt":"Aug 30, 2021 2:49:19 PM","updatedAt":"Aug 30, 2021 2:49:19 PM"}}
2021-08-30 14:50:58.250 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=2, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABMvAAAAAGEsRE4=.xOdJT25nXUrxJum0HAVq0w==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=7, consumerTag=amq.ctag-yi2T9kSOTqG5zVrnsKo_-Q, consumerQueue=qrcode.queue])
2021-08-30 14:50:58.257 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 14:50:58.257 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 14:50:58.264 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":7,"createdAt":"Aug 30, 2021 2:50:58 PM"}
2021-08-30 14:50:58.264 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-30 14:50:58.264 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-30 14:50:58.277 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":7,"createdAt":"Aug 30, 2021 2:50:58 PM"} expireTime: 2021-08-30T23:59:59.999+0700
2021-08-30 14:50:58.278 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-30 14:50:58.278 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-30 14:50:58.279 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-30 14:50:58.279 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-30 14:50:58.381 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 30 Aug 2021 07:50:57 GMT"]>
2021-08-30 14:50:58.382 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-30 14:50:58.382 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-30 14:50:58.385 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":7,"createdAt":"Aug 30, 2021 2:50:58 PM"}
2021-08-30 14:50:58.386 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-30 14:50:58.386 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-30 14:50:58.403 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":7,"createdAt":"Aug 30, 2021 2:50:58 PM","updatedAt":"Aug 30, 2021 2:50:58 PM"}}
2021-08-30 14:51:37.329 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=3, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABMvAAAAAGEsRE4=.xOdJT25nXUrxJum0HAVq0w==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=8, consumerTag=amq.ctag-yi2T9kSOTqG5zVrnsKo_-Q, consumerQueue=qrcode.queue])
2021-08-30 14:51:37.334 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 14:51:37.336 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 14:51:37.342 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":8,"createdAt":"Aug 30, 2021 2:51:37 PM"}
2021-08-30 14:51:37.342 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-30 14:51:37.343 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-30 14:51:37.351 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":8,"createdAt":"Aug 30, 2021 2:51:37 PM"} expireTime: 2021-08-30T23:59:59.999+0700
2021-08-30 14:51:37.353 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-30 14:51:37.353 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-30 14:51:37.353 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-30 14:51:37.353 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-30 14:51:37.390 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 30 Aug 2021 07:51:36 GMT"]>
2021-08-30 14:51:37.390 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-30 14:51:37.391 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-30 14:51:37.391 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":8,"createdAt":"Aug 30, 2021 2:51:37 PM"}
2021-08-30 14:51:37.391 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-30 14:51:37.391 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-30 14:51:37.403 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":8,"createdAt":"Aug 30, 2021 2:51:37 PM","updatedAt":"Aug 30, 2021 2:51:37 PM"}}
2021-08-30 14:53:52.764 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=4, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABNcAAAAAGEsRE4=.XsJI1JLtODMT80o+D7HAww==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=9, consumerTag=amq.ctag-yi2T9kSOTqG5zVrnsKo_-Q, consumerQueue=qrcode.queue])
2021-08-30 14:53:52.768 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 14:53:52.768 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 14:53:52.778 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":9,"createdAt":"Aug 30, 2021 2:53:52 PM"}
2021-08-30 14:53:52.778 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-30 14:53:52.778 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-30 14:53:52.786 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":9,"createdAt":"Aug 30, 2021 2:53:52 PM"} expireTime: 2021-08-30T23:59:59.999+0700
2021-08-30 14:53:52.788 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-30 14:53:52.788 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-30 14:53:52.789 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-30 14:53:52.789 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-30 14:53:52.867 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 30 Aug 2021 07:53:52 GMT"]>
2021-08-30 14:53:52.867 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-30 14:53:52.868 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-30 14:53:52.869 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":9,"createdAt":"Aug 30, 2021 2:53:52 PM"}
2021-08-30 14:53:52.871 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-30 14:53:52.872 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-30 14:53:52.937 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":9,"createdAt":"Aug 30, 2021 2:53:52 PM","updatedAt":"Aug 30, 2021 2:53:52 PM"}}
2021-08-30 14:54:15.954 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=5, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABNcAAAAAGEsRE4=.XsJI1JLtODMT80o+D7HAww==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=10, consumerTag=amq.ctag-yi2T9kSOTqG5zVrnsKo_-Q, consumerQueue=qrcode.queue])
2021-08-30 14:54:15.960 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 14:54:15.960 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 14:54:16.023 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":10,"createdAt":"Aug 30, 2021 2:54:15 PM"}
2021-08-30 14:54:16.025 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-30 14:54:16.026 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-30 14:54:16.035 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":10,"createdAt":"Aug 30, 2021 2:54:15 PM"} expireTime: 2021-08-30T23:59:59.999+0700
2021-08-30 14:54:16.037 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-30 14:54:16.038 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-30 14:54:16.038 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-30 14:54:16.038 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-30 14:54:16.074 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 30 Aug 2021 07:54:15 GMT"]>
2021-08-30 14:54:16.075 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-30 14:54:16.075 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-30 14:54:16.076 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":10,"createdAt":"Aug 30, 2021 2:54:15 PM"}
2021-08-30 14:54:16.076 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-30 14:54:16.076 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-30 14:54:16.092 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":10,"createdAt":"Aug 30, 2021 2:54:16 PM","updatedAt":"Aug 30, 2021 2:54:16 PM"}}
2021-08-30 15:10:40.084 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 13608 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:10:40.096 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:10:40.097 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:11:18.148 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 13036 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:11:18.159 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:11:18.159 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:11:21.336 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@6ea23fd7
2021-08-30 15:11:27.388 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 10.391 seconds (JVM running for 14.015)
2021-08-30 15:15:31.627 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 15528 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:15:31.647 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:15:31.649 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:15:40.267 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@696e4de2
2021-08-30 15:15:49.295 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 20.708 seconds (JVM running for 31.357)
2021-08-30 15:19:08.700 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABTjAAAAAGEsRE4=.JQgYoGLb02MW9Oox7A8MPA==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-cC2vUV2md7NDgEgR0DMVeg, consumerQueue=qrcode.queue])
2021-08-30 15:19:08.706 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 15:19:08.751 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 15:20:00.812 [ERROR] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : insert payment to DB failed exception: 
org.springframework.dao.InvalidDataAccessApiUsageException: No EntityManager with actual transaction available for current thread - cannot reliably process 'persist' call; nested exception is javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process 'persist' call
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:403) ~[spring-orm-5.3.9.jar:5.3.9]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.9.jar:5.3.9]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.9.jar:5.3.9]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.9.jar:5.3.9]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.9.jar:5.3.9]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.9.jar:5.3.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.9.jar:5.3.9]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.9.jar:5.3.9]
	at vn.vnpay.process.repository.impl.PaymentRepositoryImpl$$EnhancerBySpringCGLIB$$3cedc9cd.insert(<generated>) ~[classes/:?]
	at vn.vnpay.process.service.impl.PaymentServiceImpl.saveDB(PaymentServiceImpl.java:54) ~[classes/:?]
	at vn.vnpay.process.service.impl.PaymentServiceImpl.executePayment(PaymentServiceImpl.java:40) ~[classes/:?]
	at vn.vnpay.process.consumer.RabbitMQConsumer.receivedMessageAndReply(RabbitMQConsumer.java:59) ~[classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_261]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_261]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_261]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_261]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171) ~[spring-messaging-5.3.9.jar:5.3.9]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120) ~[spring-messaging-5.3.9.jar:5.3.9]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:68) ~[spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:244) ~[spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:194) ~[spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:137) ~[spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1656) ~[spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1575) ~[spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1563) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1554) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1498) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:968) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:914) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:83) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1289) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1195) [spring-rabbit-2.3.10.jar:2.3.10]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_261]
Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process 'persist' call
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:295) ~[spring-orm-5.3.9.jar:5.3.9]
	at com.sun.proxy.$Proxy124.persist(Unknown Source) ~[?:?]
	at vn.vnpay.process.repository.impl.BaseRepositoryImpl.insert(BaseRepositoryImpl.java:70) ~[classes/:?]
	at vn.vnpay.process.repository.impl.BaseRepositoryImpl$$FastClassBySpringCGLIB$$500d83d8.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.9.jar:5.3.9]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.9.jar:5.3.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.9.jar:5.3.9]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.9.jar:5.3.9]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.9.jar:5.3.9]
	... 28 more
2021-08-30 15:20:00.839 [ERROR] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : runtime exception: 
java.lang.RuntimeException: insert payment to DB failed exception
	at vn.vnpay.process.service.impl.PaymentServiceImpl.saveDB(PaymentServiceImpl.java:57) ~[classes/:?]
	at vn.vnpay.process.service.impl.PaymentServiceImpl.executePayment(PaymentServiceImpl.java:40) ~[classes/:?]
	at vn.vnpay.process.consumer.RabbitMQConsumer.receivedMessageAndReply(RabbitMQConsumer.java:59) ~[classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_261]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_261]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_261]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_261]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171) ~[spring-messaging-5.3.9.jar:5.3.9]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120) ~[spring-messaging-5.3.9.jar:5.3.9]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:68) ~[spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:244) ~[spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:194) ~[spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:137) ~[spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1656) ~[spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1575) ~[spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1563) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1554) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1498) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:968) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:914) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:83) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1289) [spring-rabbit-2.3.10.jar:2.3.10]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1195) [spring-rabbit-2.3.10.jar:2.3.10]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_261]
2021-08-30 15:20:00.854 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"500","message":"unknown error"}
2021-08-30 15:25:06.671 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 15176 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:25:06.693 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:25:06.694 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:25:11.730 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@395c7641
2021-08-30 15:25:24.123 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 19.281 seconds (JVM running for 25.119)
2021-08-30 15:26:42.529 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 9192 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:26:42.547 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:26:42.548 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:26:46.202 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@2547c24d
2021-08-30 15:26:53.123 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 11.782 seconds (JVM running for 16.063)
2021-08-30 15:27:43.239 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 16356 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:27:43.255 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:27:43.256 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:27:47.032 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@7b10a2ae
2021-08-30 15:27:53.254 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 11.258 seconds (JVM running for 16.435)
2021-08-30 15:28:54.597 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 4356 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:28:54.615 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:28:54.616 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:28:58.252 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@3b6a9f67
2021-08-30 15:29:25.989 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 32.718 seconds (JVM running for 37.016)
2021-08-30 15:31:25.805 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 12272 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:31:25.819 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:31:25.820 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:31:29.642 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@287f549b
2021-08-30 15:31:35.722 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 11.069 seconds (JVM running for 15.33)
2021-08-30 15:34:06.422 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 11696 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:34:06.438 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:34:06.439 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:34:10.510 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@6aa41858
2021-08-30 15:34:16.516 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 11.258 seconds (JVM running for 15.373)
2021-08-30 15:39:49.919 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 8196 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:39:49.932 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:39:49.933 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:39:53.866 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@1adc338b
2021-08-30 15:40:03.088 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 14.348 seconds (JVM running for 19.596)
2021-08-30 15:46:05.867 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 820 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:46:05.882 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:46:05.883 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:46:09.400 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@131881df
2021-08-30 15:46:15.438 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 10.921 seconds (JVM running for 20.802)
2021-08-30 15:47:58.510 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 8392 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:47:58.525 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:47:58.525 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:48:02.586 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@6232f268
2021-08-30 15:48:34.351 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 36.994 seconds (JVM running for 41.82)
2021-08-30 15:49:06.857 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 5392 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:49:06.866 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:49:06.867 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:49:14.896 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@4e1848cf
2021-08-30 15:49:21.623 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 16.026 seconds (JVM running for 19.483)
2021-08-30 15:51:05.200 [INFO ] receivedMessageAndReply        --- TokenKey []  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : received from queue: qrcode.queue Message: (Body:'{"id":null,"createdAt":null,"updatedAt":null,"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}"}' MessageProperties [headers={__TypeId__=vn.vnpay.preprocess.model.Payment}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g1h2AA9yZXBseUAxMTkxNDIwNjUAABeIAAAAAGEsRE4=./hCmtTNd9w9c0tqipFqILA==, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=qrcode.exchange, receivedRoutingKey=qrcode.routingkey, deliveryTag=1, consumerTag=amq.ctag-Cmkgx3Ihw8j3vqGp9yQ8Mw, consumerQueue=qrcode.queue])
2021-08-30 15:51:05.339 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin executePayment 
2021-08-30 15:51:05.347 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveDB 
2021-08-30 15:51:05.514 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 30, 2021 3:51:05 PM"}
2021-08-30 15:51:05.515 [INFO ] saveDB                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveDB 
2021-08-30 15:51:05.519 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin saveRedis 
2021-08-30 15:51:06.858 [INFO ] insert                         --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.repository.redis.PaymentRepositoryRedis : save payment of hash Payment to redis : {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","id":1,"createdAt":"Aug 30, 2021 3:51:05 PM"} expireTime: 2021-08-30T23:59:59.999+0700
2021-08-30 15:51:06.859 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save Redis successfully
2021-08-30 15:51:06.859 [INFO ] saveRedis                      --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end saveRedis 
2021-08-30 15:51:06.859 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin sendToPartner 
2021-08-30 15:51:06.860 [INFO ] postForObject                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.util.CustomRestTemplate : send data to URL: https://api.foodbook.vn/ipos/ws/xpartner/callback/vnpay
2021-08-30 15:51:07.190 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : response from partner: <200,[Server:"Apache-Coyote/1.1", Content-Type:"application/json", Content-Length:"0", Date:"Mon, 30 Aug 2021 08:51:06 GMT"]>
2021-08-30 15:51:07.191 [INFO ] sendToPartner                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end sendToPartner 
2021-08-30 15:51:07.191 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : begin updatePayment 
2021-08-30 15:51:07.195 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : save DB successfully: {"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 30, 2021 3:51:05 PM"}
2021-08-30 15:51:07.196 [INFO ] updatePayment                  --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end updatePayment 
2021-08-30 15:51:07.196 [INFO ] executePayment                 --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.service.impl.PaymentServiceImpl : end executePayment 
2021-08-30 15:51:07.227 [INFO ] receivedMessageAndReply        --- TokenKey [1601353776839FT19310RH6P1]  bankCode [] vn.vnpay.process.consumer.RabbitMQConsumer : return response: {"code":"200","message":"success","data":{"tokenKey":"1601353776839FT19310RH6P1","apiID":"restPayment","mobile":"0345225630","bankCode":"VNPAY","accountNo":"0001100014211002","payDate":"20200910112923","additionalData":"","debitAmount":11200,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2e28f56c87d0bb1c61d56fef0510e3e8c946d4743004647d562a590414ea096f","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":"11100","promotionCode":"   123 ","addValue":"{\"payMethod\":\"01\",\"payMethodMMS\":1}","sendPartnerStatus":"SUCCESS","id":1,"createdAt":"Aug 30, 2021 3:51:07 PM","updatedAt":"Aug 30, 2021 3:51:07 PM"}}
2021-08-30 15:51:26.150 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 9800 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:51:26.164 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:51:26.165 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:51:29.715 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@790579aa
2021-08-30 15:51:35.445 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 10.386 seconds (JVM running for 14.132)
2021-08-30 15:54:31.358 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 1304 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:54:31.372 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:54:31.373 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:54:34.940 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@2f789e9b
2021-08-30 15:55:14.104 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 43.824 seconds (JVM running for 47.545)
2021-08-30 15:55:26.527 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 15628 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:55:26.540 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:55:26.540 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:55:30.004 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@339b8a1c
2021-08-30 15:57:17.364 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 3796 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:57:17.381 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:57:17.382 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:57:20.956 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@213e8e82
2021-08-30 15:57:56.008 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 39.729 seconds (JVM running for 43.441)
2021-08-30 15:58:11.036 [INFO ] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Starting ProcessTransactionApplication using Java 1.8.0_261 on DESKTOP-CPQCDS8 with PID 9740 (C:\Users\dell\my-workspace\demo-payment\process-transaction\target\classes started by dell in C:\Users\dell\my-workspace\demo-payment)
2021-08-30 15:58:11.077 [DEBUG] logStarting                    --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Running with Spring Boot v2.5.3, Spring v5.3.9
2021-08-30 15:58:11.077 [INFO ] logStartupProfileInfo          --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : No active profile set, falling back to default profiles: default
2021-08-30 15:58:19.244 [INFO ] getEntityManagerFactory        --- TokenKey []  bankCode [] vn.vnpay.process.configuration.HibernateConfig : entityManagerFactory: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@1bb5fe5
2021-08-30 15:58:37.857 [INFO ] logStarted                     --- TokenKey []  bankCode [] vn.vnpay.process.ProcessTransactionApplication : Started ProcessTransactionApplication in 29.757 seconds (JVM running for 34.999)
